{"version":3,"sources":["components/Search.jsx","components/Photo.jsx","components/NotFound.jsx","components/Nav.jsx","components/PhotoContainer.jsx","components/Config.jsx","components/Sorting.js","components/PageNotFound.jsx","App.js","index.js"],"names":["Search","props","exampleInput","useRef","className","onSubmit","e","preventDefault","query","current","value","history","push","currentTarget","reset","data-testid","type","name","placeholder","required","ref","fill","height","viewBox","width","xmlns","d","Photo","src","url","alt","publishedDate","NotFound","Nav","handleAscSort","handleDescSort","handleDefault","isDefault","isAsc","isDesc","undefined","onClick","PhotoContainer","useState","images","setImages","loading","setLoading","asc","setAsc","desc","setDesc","init","setInit","match","params","allImages","fetchData","useCallback","axios","get","then","response","data","results","catch","error","console","log","sortByAscending","useMemo","sortedList","map","obj","published_at","sort","objA","objB","Date","sortAsc","sortByDescending","sortDesc","length","image","cover_photo","urls","small","key","id","toString","substring","useEffect","PageNotFound","App","this","exact","path","component","Component","withRouter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7223b323.chunk.js","sourcesContent":["import React, { useRef } from 'react'\n\nconst Search = (props) => {\n  const exampleInput = useRef()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    let query = exampleInput.current.value\n    props.history.push(`/search/${query}`)\n    e.currentTarget.reset()\n  }\n\n  return (\n    <form className='search-form' onSubmit={handleSubmit}>\n      <input data-testid=\"search-input\" type='search' name='search' placeholder='Search' required ref={exampleInput} />\n      <button data-testid=\"search-button\" type='submit' className='search-button'>\n        <svg fill='#fff' height='26' viewBox='0 0 21 21' width='26' xmlns='http://www.w3.org/2000/svg'>\n          <path d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z' />\n          <path d='M0 0h24v24H0z' fill='none' />\n        </svg>\n      </button>\n    </form>\n  )\n}\nexport default Search\n","import React from 'react'\n\nconst Photo = (props) => (\n  <>\n    <div>\n      <li>\n        <img src={props.url} alt='' />\n        <br />\n      </li>\n      <p>Date: {props.publishedDate}</p>\n    </div>\n  </>\n)\n\nexport default Photo\n","import React from 'react'\n\nconst NotFound = () => (\n  <div className='not-results'>\n    <h3>No Results Found</h3>\n    <p>Your search did not return any results. Please try again.</p>\n  </div>\n)\n\nexport default NotFound\n","import React from 'react'\n\nfunction Nav(props) {\n  const { handleAscSort, handleDescSort, handleDefault, isDefault, isAsc, isDesc } = props\n\n  return (\n    <nav className='main-nav'>\n      <ul>\n        <button data-testid=\"asc-button\" className={isAsc === true ? 'active' : undefined} onClick={handleAscSort}>\n          Ascending\n        </button>\n        <button data-testid=\"desc-button\"className={isDesc === true ? 'active' : undefined} onClick={handleDescSort}>\n          Descending\n        </button>\n        <button data-testid=\"default-button\" className={isDefault === true ? 'active' : undefined} onClick={handleDefault}>\n          Default\n        </button>\n\n        {/* <li><NavLink to=\"/search/travel\">Travel</NavLink></li>\n        <li><NavLink to=\"/search/food\">Food</NavLink></li>\n        <li><NavLink to=\"/search/music\">Music</NavLink></li> */}\n      </ul>\n    </nav>\n  )\n}\n\nexport default Nav\n","import React, { useState, useEffect, useCallback, useMemo } from 'react'\nimport Photo from './Photo'\nimport NotFound from './NotFound'\nimport apiKey from './Config'\nimport axios from 'axios'\nimport Nav from './Nav'\nimport { sortAsc, sortDesc } from './Sorting'\n\n// componentDidUpdate(prevProps) {\n//   if (this.props.location.key !== prevProps.location.key) {\n//     this.resetState();\n//     this.fetchData(this.props.match.params.query);\n//   }\n// }\nconst PhotoContainer = (props) => {\n  const [images, setImages] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [asc, setAsc] = useState(false)\n  const [desc, setDesc] = useState(false)\n  const [init, setInit] = useState(true)\n  let query = props.match.params.query ?  props.match.params.query : 'travel'\n\n  let allImages = null;\n\n  const fetchData = useCallback(\n    () => {\n      axios\n        .get(`https://api.unsplash.com/search/collections?per_page=24&page=1&query=${query}&client_id=${apiKey}`)\n        .then((response) => {\n          setImages(response.data.results)\n          setLoading(false)\n        })\n        .catch((error) => {\n          console.log('Error fetching and parsing data', error)\n        })\n    },\n    [query]\n  )\n\n  const sortByAscending = useMemo(() => {\n    return sortAsc(images)\n  }, [images])\n\n  const sortByDescending = useMemo(() => {\n    return sortDesc(images)\n  }, [images])\n\n  let data = images\n  if (data.length > 0) {\n    allImages = data.map((image) => (\n      <Photo url={image.cover_photo.urls.small} key={image.id} publishedDate={new Date(image.published_at).toString().substring(0, 16)} />\n    ))\n  } else if (!loading) {\n    allImages = <NotFound />\n  }\n\n  useEffect(() => {\n    setImages([])\n    setLoading(true)\n    fetchData()\n    setInit(true)\n    setAsc(false)\n    setDesc(false)\n  }, [fetchData, props.match.params.query])\n\n  const sortImagesAsc = () => {\n    setImages(sortByAscending)\n    setInit(false)\n    setAsc(true)\n    setDesc(false)\n  }\n\n  const sortedImagesDesc = () => {\n    setImages(sortByDescending)\n    setInit(false)\n    setAsc(false)\n    setDesc(true)\n  }\n\n  const testingDefault = () => {\n    fetchData(props.match.params.query)\n    setInit(true)\n    setAsc(false)\n    setDesc(false)\n  }\n\n  return (\n    <div className='photo-container'>\n      <h2>\n        {props.match.params.query ? 'Results of ' : ''}\n        <span data-testid='query'>{props.match.params.query}</span>\n      </h2>\n      {loading ? <h1>Loading...</h1> : null}\n      <Nav\n        handleAscSort={sortImagesAsc}\n        handleDescSort={sortedImagesDesc}\n        handleDefault={testingDefault}\n        isDefault={init}\n        isAsc={asc}\n        isDesc={desc}\n      />\n      <ul>{allImages}</ul>\n    </div>\n  )\n}\n\nexport default PhotoContainer\n","const apiKey = 'tKyRYCR6YbSkvadfIUCe0sa4MEPEtxtX-XTQbuNuVOQ'\n\nexport default apiKey\n","export const sortAsc = (images) => {\n    const sortedList = images.map((obj) => {\n        return { ...obj, published_at: obj.published_at}\n    })\n    return [...sortedList].sort((objA, objB) => new Date(objA.published_at) - new Date(objB.published_at))\n\n}\n\nexport const sortDesc = (images) => {\n    const sortedList = images.map((obj) => {\n        return { ...obj, published_at: obj.published_at}\n    })\n    return [...sortedList].sort((objA, objB) => new Date(objB.published_at) - new Date(objA.published_at))\n\n}\n","import React from 'react'\n\nconst PageNotFound = () => {\n  return (\n    <div className='not-found'>\n      <h1>404 - Page Not Found</h1>\n      <p>Sorry, we can’t find the page you were looking for.</p>\n    </div>\n  )\n}\n\nexport default PageNotFound\n","import React, { Component } from 'react';\nimport {\n  Route,\n  Switch,\n  withRouter\n} from 'react-router-dom';\n\n// Import Components \nimport Search from './components/Search';\nimport PhotoContainer from './components/PhotoContainer';\nimport PageNotFound from './components/PageNotFound';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"container\">\n          <Search {...this.props}/>\n          <Switch>\n            <Route exact path=\"/imageGallery\" component={PhotoContainer} />\n            <Route path=\"/search/:query\" component={PhotoContainer} />\n            <Route component={PageNotFound} />\n          </Switch>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport App from './App';\nimport './css/index.css';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);"],"sourceRoot":""}