(this["webpackJsonpreact-gallery-app"]=this["webpackJsonpreact-gallery-app"]||[]).push([[0],{33:function(e,t,a){e.exports=a(64)},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(26),l=a.n(r),u=a(13),s=a(27),o=a(28),i=a(32),m=a(31),h=a(1),p=function(e){var t=Object(n.useRef)();return c.a.createElement("form",{className:"search-form",onSubmit:function(a){a.preventDefault();var n=t.current.value;e.history.push("/search/".concat(n)),a.currentTarget.reset()}},c.a.createElement("input",{"data-testid":"search-input",type:"search",name:"search",placeholder:"Search",required:!0,ref:t}),c.a.createElement("button",{"data-testid":"search-button",type:"submit",className:"search-button"},c.a.createElement("svg",{fill:"#fff",height:"26",viewBox:"0 0 21 21",width:"26",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))))},d=a(8),b=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("li",null,c.a.createElement("img",{src:e.url,alt:""}),c.a.createElement("br",null)),c.a.createElement("p",null,"Date: ",e.publishedDate)))},f=function(){return c.a.createElement("div",{className:"not-results"},c.a.createElement("h3",null,"No Results Found"),c.a.createElement("p",null,"Your search did not return any results. Please try again."))},E=a(29),v=a.n(E);var g=function(e){var t=e.handleAscSort,a=e.handleDescSort,n=e.handleDefault,r=e.isDefault,l=e.isAsc,u=e.isDesc;return c.a.createElement("nav",{className:"main-nav"},c.a.createElement("ul",null,c.a.createElement("button",{"data-testid":"asc-button",className:!0===l?"active":void 0,onClick:t},"Ascending"),c.a.createElement("button",{"data-testid":"desc-button",className:!0===u?"active":void 0,onClick:a},"Descending"),c.a.createElement("button",{"data-testid":"default-button",className:!0===r?"active":void 0,onClick:n},"Default")))},O=a(15),j=a(10),y=function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),r=a[0],l=a[1],u=Object(n.useState)(!0),s=Object(d.a)(u,2),o=s[0],i=s[1],m=Object(n.useState)(!1),h=Object(d.a)(m,2),p=h[0],E=h[1],y=Object(n.useState)(!1),D=Object(d.a)(y,2),S=D[0],w=D[1],N=Object(n.useState)(!0),_=Object(d.a)(N,2),k=_[0],q=_[1],C=e.match.params.query?e.match.params.query:"travel",x=null,A=Object(n.useCallback)((function(){v.a.get("https://api.unsplash.com/search/collections?per_page=24&page=1&query=".concat(C,"&client_id=").concat("tKyRYCR6YbSkvadfIUCe0sa4MEPEtxtX-XTQbuNuVOQ")).then((function(e){l(e.data.results),i(!1)})).catch((function(e){console.log("Error fetching and parsing data",e)}))}),[C]),M=Object(n.useMemo)((function(){return console.log("hhi ",r),function(e){var t=e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{published_at:e.published_at})}));return Object(O.a)(t).sort((function(e,t){return new Date(e.published_at)-new Date(t.published_at)}))}(r)}),[r]),R=Object(n.useMemo)((function(){return function(e){var t=e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{published_at:e.published_at})}));return Object(O.a)(t).sort((function(e,t){return new Date(t.published_at)-new Date(e.published_at)}))}(r)}),[r]),z=r;z.length>0?x=z.map((function(e){return c.a.createElement(b,{url:e.cover_photo.urls.small,key:e.id,publishedDate:new Date(e.published_at).toString().substring(0,16)})})):o||(x=c.a.createElement(f,null)),Object(n.useEffect)((function(){l([]),i(!0),A(),q(!0),E(!1),w(!1)}),[A,e.match.params.query]);return c.a.createElement("div",{className:"photo-container"},c.a.createElement("h2",null,e.match.params.query?"Results of ":"",c.a.createElement("span",{"data-testid":"query"},e.match.params.query)),o?c.a.createElement("h1",null,"Loading..."):null,c.a.createElement(g,{handleAscSort:function(){l(M),q(!1),E(!0),w(!1)},handleDescSort:function(){l(R),q(!1),E(!1),w(!0)},handleDefault:function(){A(e.match.params.query),q(!0),E(!1),w(!1)},isDefault:k,isAsc:p,isDesc:S}),c.a.createElement("ul",null,x))},D=function(){return c.a.createElement("div",{className:"not-found"},c.a.createElement("h1",null,"404 - Page Not Found"),c.a.createElement("p",null,"Sorry, we can\u2019t find the page you were looking for."))},S=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement(p,this.props),c.a.createElement(h.c,null,c.a.createElement(h.a,{exact:!0,path:"/imageGallery",component:y}),c.a.createElement(h.a,{path:"/search/:query",component:y}),c.a.createElement(h.a,{component:D})))}}]),a}(n.Component),w=Object(h.f)(S);a(63);l.a.render(c.a.createElement(u.a,null,c.a.createElement(w,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.4f4a9869.chunk.js.map